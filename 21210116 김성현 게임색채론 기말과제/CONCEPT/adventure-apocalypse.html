<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adventure Apocalypse - Final Design</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        
        :root {
            --carpet-scroll-main: 0px;
            --carpet-scroll-sub: 0px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #1a1a1a;
            color: white;
            overflow: hidden;
            height: 100vh;
        }
        
        .parallax-bg {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100vh;
            background-image: url('background.png');
            background-size: cover; background-position: center center;
            z-index: -3;
            transition: transform 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .bg-overlay {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            background: radial-gradient(ellipse at center, rgba(0,0,0,0.05) 0%, rgba(26,26,26,0.5) 100%);
            z-index: -2;
        }
/* --- âœ¨ [ìˆ˜ì •] ë°˜ì‘í˜• ì‚¬ìš©ì ì§€ì • ìºë¦­í„° íŒ¨ë„ ìŠ¤íƒ€ì¼ --- */
.character-panel {
    position: fixed;
    top: 0;
    width: 100%; height: 100%;
    z-index: -1; /* ì½˜í…ì¸  ë’¤, ë°°ê²½ ìœ„ */
    pointer-events: none; 
    overflow: hidden;
}

.character {
    position: absolute;
    top: 50%;
    /* [ë³€ê²½] ë„ˆë¹„ì™€ ë†’ì´ë¥¼ vh ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë¹„ìœ¨ ê³ ì • */
    height: 100vh; /* ì»¨í…Œì´ë„ˆ ë†’ì´ë¥¼ ë·°í¬íŠ¸ ì „ì²´ë¡œ ì„¤ì • */
    width: 120vh;   /* ìºë¦­í„° ë¹„ìœ¨ì— ë§ì¶° ë„ˆë¹„ë„ vhë¡œ ì„¤ì • (ê°’ ì¡°ì ˆ í•„ìš”) */
    
    max-width: none; /* [ì œê±°] ë” ì´ìƒ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ì œê±° ë˜ëŠ” none ì²˜ë¦¬ */
    min-width: none; /* [ì œê±°] ë” ì´ìƒ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ì œê±° ë˜ëŠ” none ì²˜ë¦¬ */
    
    background-repeat: no-repeat;
    opacity: 0;
    transform: translateY(-50%) scale(1.0);
    transition: opacity 0.8s ease-in-out, transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
}

.character.vivi {
    background-image: url('vivi.png');
    /* [í•µì‹¬] background-sizeì˜ ë†’ì´ë¥¼ vhë¡œ ê³ ì •, ë„ˆë¹„ëŠ” autoë¡œ ë¹„ìœ¨ ìœ ì§€ */
    background-size: auto 95vh; 
    /* [ë³€ê²½] ìœ„ì¹˜ë¥¼ vh, vw ë‹¨ìœ„ë¡œ ì¡°ì •í•˜ì—¬ ì¼ê´€ì„± í™•ë³´ */
    background-position: -20vh 6vh; /* ì™¼ìª½ì—ì„œ ì–¼ë§ˆë‚˜ ë–¨ì–´ì ¸ ë³´ì¼ì§€ vhë¡œ ì¡°ì ˆ */
    left: 0;
    transform: translateY(-50%) translateX(-100%);
}

.character.terry {
    background-image: url('terry.png');
    /* [í•µì‹¬] ë¹„ë¹„ì™€ ë™ì¼í•˜ê²Œ vh ê¸°ì¤€ìœ¼ë¡œ í¬ê¸° ì„¤ì • */
    background-size: auto 85vh;
    /* [ë³€ê²½] ìœ„ì¹˜ë¥¼ vh, vw ë‹¨ìœ„ë¡œ ì¡°ì • */
    background-position: right 5vh center; /* ì˜¤ë¥¸ìª½ì—ì„œ ì–¼ë§ˆë‚˜ ë–¨ì–´ì ¸ ë³´ì¼ì§€ vhë¡œ ì¡°ì ˆ */
    right: 0;
    transform: translateY(-50%) translateX(100%);
}

/* JSê°€ ì´ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ë©´ ìºë¦­í„°ê°€ ë‚˜íƒ€ë‚¨ */
.character.show { 
    opacity: 1; 
    transform: translateY(-50%) translateX(0);
}

        /* --- ì „ì—­ ì¹´í˜íŠ¸ ë° ìŠ¬ë¼ì´ë“œ êµ¬ì¡° --- */
        .global-carpet {
            position: fixed;
            top: 0; bottom: 0; left: 50%;
            width: 50vw;
            max-width: 1100px;
            z-index: 1; 
            background: linear-gradient(135deg, rgba(15, 15, 15, 0.75), rgba(5, 5, 5, 0.65));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transform: translateX(-50%);
            transition: transform 0.9s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .global-carpet::before,
        .global-carpet::after {
            content: '';
            position: absolute;
            top: 0; bottom: 0;
            width: 80px;
            --diamond-main: url("data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M20 5 L35 20 L20 35 L5 20 Z' stroke='rgba(255,255,255,0.25)' stroke-width='2' fill='none'/%3e%3c/svg%3e");
            --diamond-sub: url("data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M20 5 L35 20 L20 35 L5 20 Z' stroke='rgba(255,255,255,0.1)' stroke-width='1.5' fill='none'/%3e%3c/svg%3e");
            background-image: var(--diamond-sub), var(--diamond-main), var(--diamond-sub);
            background-size: 20px, 30px, 20px;
            background-repeat: repeat-y;
            background-position: 
                left 5px top var(--carpet-scroll-sub), 
                center top var(--carpet-scroll-main), 
                right 5px top var(--carpet-scroll-sub);
        }
        .global-carpet::before { left: 10px; }
        .global-carpet::after { right: 10px; }

        .slide-container {
            width: 100%; height: 100%;
            position: relative;
            z-index: 3;
            transition: transform 0.9s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .slide {
            width: 100%; height: 100vh;
            display: flex;
            justify-content: center; 
            align-items: center;
        }
        
        .content-wrapper {
            width: 50vw;
            max-width: 1100px;
            height: 80vh; 
            text-align: center;
            overflow-y: auto; 
            padding: 0 100px;
            transform: translateX(0);
            transition: transform 0.9s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .content-wrapper::-webkit-scrollbar { width: 8px; }
        .content-wrapper::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); }
        .content-wrapper::-webkit-scrollbar-thumb { background-color: rgba(255, 255, 255, 0.2); border-radius: 4px; }

        /* --- ì´í•˜ ì½˜í…ì¸  ë‚´ë¶€ ìŠ¤íƒ€ì¼ì€ ë™ì¼ --- */
        .main-title, .subtitle, .description, .section-title, .comparison-table, .feature-card, .video-wrapper h4, #relic-result-container {
             text-shadow: 0 2px 5px rgba(0, 0, 0, 0.7);
        }
        .main-title { font-family: 'Black Han Sans', sans-serif; font-size: clamp(50px, 6.5vw, 95px); background: linear-gradient(45deg, #87CEEB, #FFB347, #90EE90); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px; font-weight: 900; text-align: center; overflow-wrap: break-word;}
        .subtitle { font-size: clamp(22px, 2.5vw, 32px); color: #87CEEB; margin-bottom: 30px; font-weight: 700;}
        .description { font-size: clamp(16px, 1.8vw, 20px); color: #EAEAEA; line-height: 1.8; font-weight: 400; padding-bottom: 30px; margin-bottom: 30px; border-bottom: 1px solid rgba(255, 255, 255, 0.15); }
        #slide-1 .description { border-bottom: none; padding-bottom: 0; margin-bottom: 0; }
        .section-title { font-family: 'Noto Sans KR', sans-serif; font-weight: 1000; font-size: clamp(40px, 5vw, 64px); color: #FFB347; margin-bottom: 40px; }
        .comparison-table { width: 100%; border-collapse: collapse; }
        .comparison-table th, .comparison-table td { padding: 20px 10px; border-bottom: 1px solid rgba(255, 255, 255, 0.15); font-weight: 500; }
        .comparison-table tr:last-child td { border-bottom: none; }
        .comparison-table th { font-size: clamp(18px, 2vw, 22px); color: #FFD700; text-align: left; }
        .comparison-table td { font-size: clamp(15px, 1.5vw, 18px); color: #EAEAEA; line-height: 1.6; text-align: left; }
        .comparison-table td:first-child { color: #bdbdbd; }
        .comparison-table td strong { color: #90EE90; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; width: 100%; }
        .feature-card { background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.05); border-radius: 15px; padding: 25px; }
        .feature-card h4 { font-size: 20px; color: #FFD700; margin-bottom: 12px; }
        .feature-card p { color: #EAEAEA; line-height: 1.6; font-weight: 500; }
        .ai-relic-generator { margin-top: 30px; width: 100%; }
        .generate-relic-btn { font-family: 'Noto Sans KR', sans-serif; font-weight: 700; font-size: 16px; padding: 12px 24px; border-radius: 50px; border: 2px solid #FFB347; background: rgba(255, 179, 71, 0.2); color: #FFB347; cursor: pointer; transition: all 0.3s ease; }
        .generate-relic-btn:hover { background: #FFB347; color: #1a1a1a; box-shadow: 0 0 25px rgba(255, 179, 71, 0.7); transform: scale(1.05); }
        .generate-relic-btn:disabled { cursor: wait; background: rgba(255, 255, 255, 0.1); color: #888; border-color: #555; }
        #relic-result-container { margin-top: 20px; min-height: 80px; text-align: left; line-height: 1.7; white-space: pre-wrap; font-weight: 500; color: #EAEAEA; background: rgba(0,0,0,0.2); border-radius: 15px; border: 1px solid rgba(255,255,255,0.05); padding: 20px; }
        .video-container { display: grid; grid-template-columns: 1fr; gap: 30px; width: 100%; }
        .video-wrapper { text-align: center; }
        .video-wrapper video { width: 100%; border-radius: 15px; border: 2px solid rgba(135, 206, 235, 0.1); display: block; }
        .video-wrapper h4 { margin: 0; padding-top: 15px; font-size: 20px; color: #87CEEB; }
        .nav-dots { position: fixed; right: 30px; top: 50%; transform: translateY(-50%); z-index: 100; }
        .nav-dot { width: 12px; height: 12px; border-radius: 50%; background: rgba(255, 255, 255, 0.3); border: 2px solid rgba(255, 255, 255, 0.6); cursor: pointer; transition: all 0.3s ease; margin: 15px 0; }
        .nav-dot.active { background: #87CEEB; box-shadow: 0 0 15px rgba(135, 206, 235, 0.8); transform: scale(1.2); }
    </style>
</head>
<body>
    <div class="parallax-bg"></div>
    <div class="bg-overlay"></div>
    
    <div class="global-carpet"></div>

    <div class="character-panel">
        <div class="character vivi"></div>
        <div class="character terry"></div>
    </div>
    
    <div class="slide-container">
        <div class="slide" id="slide-1"><div class="content-wrapper"><div class="content-inner"><h1 class="main-title">ADVENTURE APOCALYPSE</h1><p class="subtitle">"ì„¸ìƒì€ í•œë²ˆ ë§í–ˆì§€ë§Œ, ê·¸ ë•ë¶„ì—(?) ì§€ë£¨í•  í‹ˆ ì—†ëŠ” ìŠ¤ë¦´ê³¼ ë¯¸ì§€ì˜ ë³´ë¬¼ë¡œ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤!"</p><p class="description">ì•”ìš¸í•œ ìƒì¡´ ëŒ€ì‹ , ìœ„í—˜ì²œë§Œí•œ íí—ˆë¥¼ ë†€ì´í„° ì‚¼ì•„ ì‹ ë‚˜ê²Œ íƒí—˜í•˜ëŠ” ëª¨í—˜ê°€ë“¤ì˜ ì´ì•¼ê¸°ì…ë‹ˆë‹¤.</p></div></div></div>
        <div class="slide" id="slide-2"><div class="content-wrapper"><div class="content-inner"><h2 class="section-title">ì„¸ê³„ê´€ ë¹„êµ</h2><table class="comparison-table"><thead><tr><th>ìš”ì†Œ</th><th>í¬ìŠ¤íŠ¸ ì•„í¬ì¹¼ë¦½ìŠ¤ğŸ˜¨</th><th>ì–´ë“œë²¤ì²˜ ì•„í¬ì¹¼ë¦½ìŠ¤ğŸ˜</th></tr></thead><tbody><tr><td><strong>ë©¸ë§ ì›ì¸</strong></td><td>í•µì „ìŸ, ë°”ì´ëŸ¬ìŠ¤ ë“± ì•”ìš¸í•œ ì¬ì•™</td><td><strong>"ëŒ€ë³€í˜(The Great Shift)"</strong>: ì°¨ì›ì˜ ê²½ê³„ê°€ ë¬´ë„ˆì§„ ì‹ ë¹„ë¡œìš´ í˜„ìƒ</td></tr><tr><td><strong>ì£¼ëœ ë¶„ìœ„ê¸°</strong></td><td>ì²˜ì ˆí•¨, ë¶ˆì‹ , ê³µí¬, ìƒì‹¤ê°</td><td><strong>íƒí—˜ì˜ ì„¤ë ˜, ìœ ì¾Œí•¨, ë™ë£Œì• , ìœ„ê¸° ì† ìœ ë¨¸</strong></td></tr><tr><td><strong>ì£¼ìš” ìœ„í˜‘</strong></td><td>êµ¶ì£¼ë¦° ëŒì—°ë³€ì´, ì”í˜¹í•œ ì•½íƒˆì</td><td><strong>"ê¸€ë¦¬ì¹˜(Glitch)"</strong>: ì˜ˆì¸¡ë¶ˆí—ˆì˜ ê¸°ê³„ ìƒëª…ì²´, ì½”ë¯¹í•œ ë¼ì´ë²Œ</td></tr><tr><td><strong>ìì›ì˜ ê°€ì¹˜</strong></td><td>ë¬¼, ì‹ëŸ‰ ë“± ìƒì¡´ í•„ìˆ˜í’ˆ</td><td><strong>"êµ¬ì‹œëŒ€ì˜ ìœ ë¬¼"</strong>: ì—ë„ˆì§€ ì½”ì–´, ì„¤ê³„ë„, ì‹¬ì§€ì–´ í”¼ìë‚˜ ê²Œì„ê¸°</td></tr></tbody></table></div></div></div>
        <div class="slide" id="slide-3"><div class="content-wrapper"><div class="content-inner"><h2 class="section-title">Vivi The Relic Hunter</h2><p class="description">ìƒì¡´ì€ ê¸°ë³¸, ê·¸ë…€ì˜ ì£¼ëœ ëª©í‘œëŠ” "ì „ì„¤ì ì¸ ìœ ë¬¼"ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤. íƒí—˜ ìì²´ì˜ ìŠ¤ë¦´ê³¼ ìƒˆë¡œìš´ ê²ƒì„ ë°œê²¬í•˜ëŠ” ì¬ë¯¸ë¥¼ ì¶”êµ¬í•˜ëŠ” ìµœê³ ì˜ ìœ ë¬¼ ì‚¬ëƒ¥ê¾¼ì…ë‹ˆë‹¤.</p><div class="feature-grid"><div class="feature-card"><h4>ğŸ”« ë ˆì¼ê±´ "ìŠ¤í†°í”„"</h4><p>ê±°ëŒ€í•œ ì¥ì• ë¬¼ì„ ë¶€ìˆ´ ê¸¸ì„ ë§Œë“¤ê³ , ìˆ˜ë§ì€ ê¸€ë¦¬ì¹˜ë“¤ì„ ì“¸ì–´ë²„ë¦¬ëŠ” 'ëŒ€í™”ì™€ í•´ê²°ì˜ ìˆ˜ë‹¨'ì…ë‹ˆë‹¤.</p></div><div class="feature-card"><h4>ğŸ’ ì°¨ì› ì•ˆì •í™” íŒ©</h4><p>ë¶ˆì•ˆì •í•œ 'ë³€ì´ êµ¬ì—­'ì—ì„œ ì‹ ì²´ë¥¼ ë³´í˜¸í•˜ëŠ” ìµœì²¨ë‹¨ ì¥ë¹„. ê°€ë”ì€ íŒŒí‹°ìš© ë¯¸ëŸ¬ë³¼ì„ ëŒë¦¬ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</p></div></div><div class="ai-relic-generator"><button id="generate-relic-btn" class="generate-relic-btn">âœ¨ ìƒˆë¡œìš´ ìœ ë¬¼ ë°œê²¬í•˜ê¸°</button><div id="relic-result-container">ë²„íŠ¼ì„ ëˆŒëŸ¬ ë¹„ë¹„ê°€ ì–´ë–¤ ì‹ ê¸°í•œ ìœ ë¬¼ì„ ë°œê²¬í–ˆëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”!</div></div></div></div></div>
        <div class="slide" id="slide-4"><div class="content-wrapper"><div class="content-inner"><h2 class="section-title">Terry The Robo Head</h2><p class="description">ë‹¨ìˆœí•œ íŒŒíŠ¸ë„ˆë¥¼ ë„˜ì–´ì„  ìµœê³ ì˜ ë§Œë‹´ ì½¤ë¹„. ì „íˆ¬ì™€ íƒì‚¬ë¥¼ ìœ ì¾Œí•˜ê²Œ ë§Œë“œëŠ” ë¶„ìœ„ê¸° ë©”ì´ì»¤ì…ë‹ˆë‹¤.</p><div class="feature-grid"><div class="feature-card"><h4>ğŸ“£ ì´ëª¨í‹°ì½˜ê³¼ BGM</h4><p>ì „íˆ¬ ì¤‘ ìŠ¤í¬ë¦°ì— `(â‰§âˆ‡â‰¦)` ê°™ì€ ì´ëª¨í‹°ì½˜ì„ ë„ìš°ê³ , 8ë¹„íŠ¸ ê²Œì„ ìŒì•…ì„ í‹€ì–´ ë¶„ìœ„ê¸°ë¥¼ ê³ ì¡°ì‹œí‚µë‹ˆë‹¤. ğŸ¤¸â€</p></div><div class="feature-card"><h4>ğŸ” ì—‰ëš±í•œ ìœ ë¬¼ í•´ì„¤</h4><p>êµ¬ì‹œëŒ€ ìœ ë¬¼ì„ ìŠ¤ìº”í•˜ë©° - "ì˜¤! ì´ê±´ 'ì „ìë ˆì¸ì§€'ë¼ëŠ” ë¬¼ê±´ì¸ë°, ìŒì‹ì„ 1ë¶„ ë§Œì— ë”°ëœ»í•˜ê²Œ ë°ìš¸ ìˆ˜ ìˆì—ˆë‹µë‹ˆë‹¤! ì§€ê¸ˆì€ ê·¸ëƒ¥ ì¢‹ì€ ìƒìì£ !"</p></div><div class="feature-card"><h4>ğŸ¤– ì¤‘í™”ê¸° ë³€ì‹ </h4><p>ìœ„í—˜í•  ë•Œì—” ë¹„ë¹„ì˜ ì°¨ì› ì•ˆì •í™” íŒ©ê³¼ í•˜ë‚˜ê°€ ë˜ì–´ ì•„ì£¼ ê°•ë ¥í•œ ì¤‘í™”ê¸°ë¡œ ë³€ì‹ í•  ìˆ˜ë„ ìˆë‹µë‹ˆë‹¤! ì•„ì£¼ ë©‹ì§€ì£ ? ğŸ˜</p></div></div></div></div></div>
        <div class="slide" id="slide-5"><div class="content-wrapper"><div class="content-inner"><h2 class="section-title">ì–´ë“œë²¤ì²˜ ì•„í¬ì¹¼ë¦½ìŠ¤! #vlog</h2><div class="video-container"><div class="video-wrapper"><video src="V1.mp4" controls muted loop playsinline></video><h4>Ver. A</h4></div><div class="video-wrapper"><video src="V2.mp4" controls muted loop playsinline></video><h4>Ver. B (ë©€í‹°ë²„ìŠ¤... ğŸ˜…)</h4></div></div></div></div></div>
    </div>
    
    <div class="nav-dots">
        <div class="nav-dot active" data-slide="0"></div><div class="nav-dot" data-slide="1"></div><div class="nav-dot" data-slide="2"></div><div class="nav-dot" data-slide="3"></div><div class="nav-dot" data-slide="4"></div>
    </div>

    <script>
    const totalSlides = 5; let currentSlide = 0; let isScrolling = false;
    
    const slideContainer = document.querySelector('.slide-container');
    const slides = document.querySelectorAll('.slide');
    const globalCarpet = document.querySelector('.global-carpet');
    const navDots = document.querySelectorAll('.nav-dot'); 
    const parallaxBg = document.querySelector('.parallax-bg'); 
    const viviChar = document.querySelector('.character.vivi'); 
    const terryChar = document.querySelector('.character.terry');
    
    let carpetScroll_main = 0;
    let carpetScroll_sub = 0;

    function goToSlide(slideIndex) {
        if (slideIndex < 0 || slideIndex >= totalSlides || isScrolling) return;
        isScrolling = true; 
        
        const prevSlideWrapper = slides[currentSlide]?.querySelector('.content-wrapper');
        const nextSlideWrapper = slides[slideIndex]?.querySelector('.content-wrapper');
        
        currentSlide = slideIndex;
        
        slideContainer.style.transform = `translateY(${-currentSlide * 100}vh)`; 
        parallaxBg.style.transform = `scale(${1 + (currentSlide * 0.05)})`;
        
        handleLayout(prevSlideWrapper, nextSlideWrapper);
        
        navDots.forEach((dot, index) => dot.classList.toggle('active', index === currentSlide));
        setTimeout(() => { isScrolling = false; }, 900);
    }

    function handleLayout(prevWrapper, nextWrapper) {
        if(prevWrapper) prevWrapper.style.transform = 'translateX(0)';

        let targetTranslateX = '0';
        let carpetTranslateX = '-50%';
        
        if (currentSlide === 2) { 
            targetTranslateX = '22.5vw';
            carpetTranslateX = `calc(-50% + ${targetTranslateX})`;
        } else if (currentSlide === 3) {
            targetTranslateX = '-22.5vw';
            carpetTranslateX = `calc(-50% + ${targetTranslateX})`;
        }

        if(nextWrapper) nextWrapper.style.transform = `translateX(${targetTranslateX})`;
        globalCarpet.style.transform = `translateX(${carpetTranslateX})`;

        viviChar.classList.toggle('show', currentSlide === 2);
        terryChar.classList.toggle('show', currentSlide === 3);
    }

    handleLayout(null, slides[0].querySelector('.content-wrapper'));
    
    document.getElementById('generate-relic-btn').addEventListener('click', async () => {
        const btn = document.getElementById('generate-relic-btn'); const resultContainer = document.getElementById('relic-result-container'); btn.disabled = true; resultContainer.textContent = 'ìœ ë¬¼ì„ íƒìƒ‰í•˜ëŠ” ì¤‘...';
        const prompt = `ë‹¹ì‹ ì€ 'ì–´ë“œë²¤ì²˜ ì•„í¬ì¹¼ë¦½ìŠ¤'ë¼ëŠ” ê²Œì„ì˜ ë§ˆìŠ¤í„°ì…ë‹ˆë‹¤. ì°¨ì›ì´ ë’¤ì„ì—¬ êµ¬ì‹œëŒ€ì˜ ë¬¼ê±´ë“¤ì´ ê¸°ë¬˜í•œ ìš©ë„ë¡œ ì“°ì´ëŠ” ìœ ì¾Œí•œ í¬ìŠ¤íŠ¸ ì•„í¬ì¹¼ë¦½ìŠ¤ ì„¸ê³„ê´€ì…ë‹ˆë‹¤. í”Œë ˆì´ì–´ 'ë¹„ë¹„'ê°€ ë°©ê¸ˆ ìƒˆë¡œìš´ 'êµ¬ì‹œëŒ€ ìœ ë¬¼(Old-World Relic)'ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ í˜•ì‹ì— ë§ì¶° ì°½ì˜ì ì´ê³  ì¬ë¯¸ìˆëŠ” ìœ ë¬¼ í•˜ë‚˜ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.\n\n- **ìœ ë¬¼ ì´ë¦„:** (ì˜ˆ: 'ìš¸íŠ¸ë¼ ì§„ë™ ì¹«ì†”')\n- **ì›ë˜ ìš©ë„:** (ì˜ˆ: 'êµ¬ì‹œëŒ€ ì‚¬ëŒë“¤ì´ ì¹˜ì•„ë¥¼ ì„¸ì²™í•˜ë˜ ë„êµ¬.')\n- **í˜„ì¬ ìš©ë„:** (ì˜ˆ: 'ì§„ë™ì„ ì´ìš©í•´ ë‹¨ë‹¨í•œ ìë¬¼ì‡ ë¥¼ ë¶€ìˆ  ìˆ˜ë„ ìˆì§€ë§Œ, ì¡°ê¸ˆë§Œ ê°œì¡°í•˜ë©´ ì‘ì€ ê¸€ë¦¬ì¹˜ë“¤ì„ ë§ˆë¹„ì‹œí‚¤ëŠ” ë©‹ìŸì´ ì°Œë¦¬ë¦¿ ì¶©ê²©ê¸°ê°€ ëœë‹¤! âœ¨')`;
        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: [{ role: "user", parts: [{ text: prompt }] }] }) });
            if (!response.ok) throw new Error(`API ìš”ì²­ ì‹¤íŒ¨: ${response.status}`);
            const result = await response.json(); const generatedText = result.candidates[0].content.parts[0].text; resultContainer.textContent = generatedText;
        } catch (error) { console.error('Error:', error); resultContainer.textContent = 'ì´ëŸ°! ë¹„ë¹„ê°€ ìœ ë¬¼ì„ ì°¾ë‹¤ê°€ ê·¸ë§Œ ì ë“¤ì—ˆë„¤ìš”... ğŸ˜“'; } finally { btn.disabled = false; }
    });
    
    let touchStartY = 0;

    // â–¼â–¼â–¼ [ìˆ˜ì •] ë‚´ë¶€ ìŠ¤í¬ë¡¤ì„ ê°ì§€í•˜ëŠ” ìƒˆë¡œìš´ wheel ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ â–¼â–¼â–¼
    window.addEventListener('wheel', (e) => {
        if (isScrolling) return;

        // 1. ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìœ„ì¹˜ê°€ .content-wrapper ë‚´ë¶€ì¸ì§€ í™•ì¸
        const contentWrapper = e.target.closest('.content-wrapper');
        const delta = Math.sign(e.deltaY);

        if (contentWrapper) {
            // .content-wrapper ë‚´ë¶€ì—ì„œ ìŠ¤í¬ë¡¤ì´ ë°œìƒí•œ ê²½ìš°
            
            const isAtTop = contentWrapper.scrollTop <= 0;
            // ì˜¤ì°¨ë¥¼ ê³ ë ¤í•˜ì—¬ 1px ì—¬ìœ ë¥¼ ë‘¡ë‹ˆë‹¤.
            const isAtBottom = contentWrapper.scrollTop + contentWrapper.clientHeight >= contentWrapper.scrollHeight - 1;

            if (delta > 0 && !isAtBottom) {
                // ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤ & ì•„ì§ ë§¨ ì•„ë˜ê°€ ì•„ë‹˜ -> ìŠ¬ë¼ì´ë“œ ì „í™˜ ë°©ì§€
                return; 
            }
            if (delta < 0 && !isAtTop) {
                // ìœ„ë¡œ ìŠ¤í¬ë¡¤ & ì•„ì§ ë§¨ ìœ„ê°€ ì•„ë‹˜ -> ìŠ¬ë¼ì´ë“œ ì „í™˜ ë°©ì§€
                return;
            }
        }
        
        // ìœ„ ì¡°ê±´ì— ê±¸ë¦¬ì§€ ì•Šì€ ëª¨ë“  ê²½ìš°(ë‚´ë¶€ ìŠ¤í¬ë¡¤ì´ ëë‚¬ê±°ë‚˜, ì½˜í…ì¸  ì˜ì—­ ë°– ìŠ¤í¬ë¡¤)ì—ë§Œ ìŠ¬ë¼ì´ë“œ ì „í™˜ ì‹¤í–‰
        goToSlide(currentSlide + delta);
        
        carpetScroll_main -= e.deltaY * 0.2;
        carpetScroll_sub -= e.deltaY * 0.1; 
        
        document.documentElement.style.setProperty('--carpet-scroll-main', `${carpetScroll_main}px`);
        document.documentElement.style.setProperty('--carpet-scroll-sub', `${carpetScroll_sub}px`);

    }, { passive: false }); // passiveë¥¼ falseë¡œ ë³€ê²½í•´ì•¼ e.preventDefault()ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ, ì—¬ê¸°ì„  returnìœ¼ë¡œ ì¶©ë¶„í•©ë‹ˆë‹¤.


    navDots.forEach((dot, index) => dot.addEventListener('click', () => goToSlide(index)));
    window.addEventListener('keydown', (e) => { if (isScrolling) return; if (e.key === 'ArrowDown' || e.key === 'PageDown') goToSlide(currentSlide + 1); if (e.key === 'ArrowUp' || e.key === 'PageUp') goToSlide(currentSlide - 1); });
    window.addEventListener('touchstart', (e) => { touchStartY = e.changedTouches[0].screenY; });
    window.addEventListener('touchend', (e) => { if (isScrolling) return; if (e.changedTouches[0].screenY < touchStartY - 50) goToSlide(currentSlide + 1); if (e.changedTouches[0].screenY > touchStartY + 50) goToSlide(currentSlide - 1); });
</script>
</body>
</html>
